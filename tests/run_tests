#!/bin/bash

set -euo pipefail

cd "$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
source ../vendor/github.com/reconquest/import.bash/import.bash

import:source "github.com/reconquest/test-runner.bash"

:build() {
    cd ../
    GOBIN=$(pwd) go install
}

:main() {
    trap :cleanup EXIT
    :cleanup() {
        :
    }

    :build

    test-runner:run "${@}"
}

:main "${@}"
